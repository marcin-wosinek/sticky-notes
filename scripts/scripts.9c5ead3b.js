"use strict";angular.module("stickyNotesApp",["ngAnimate","ngAria","ngRoute","ngTouch","ngMaterial","ngStorage"]).config(["$routeProvider",function(a){a.when("/board",{templateUrl:"views/board.html",controller:"BoardCtrl"}).when("/add",{templateUrl:"views/add.html",controller:"AddCtrl"}).when("/list",{templateUrl:"views/list.html",controller:"ListCtrl"}).when("/edit/:id",{templateUrl:"views/edit.html",controller:"EditCtrl"}).otherwise({redirectTo:"/board"})}]),angular.module("stickyNotesApp").controller("BoardCtrl",["$scope","$mdToast","notesStorage",function(a,b,c){var d=250,e=150;a.hello="test",a.notes=c.getAll(),a.style=function(a){return angular.isUndefined(a)?void 0:{left:a.position.x+"px",top:a.position.y+"px"}},a.remove=function(a,c){var d,e=a.indexOf(c);e>-1&&(d=a[e],a.splice(e,1),b.show({controller:"RemovedToastCtrl",templateUrl:"views/removed-toast.html",hideDelay:6e3,locals:{removedNote:d}}))},a.drag=function(a){a._dragged=!0},a.drop=function(a){delete a._dragged},a.move=function(a,b,c,f){a.position.x+=b,a.position.y+=c,a.position.x<0&&(a.position.x=0),a.position.y<0&&(a.position.y=0),a.position.x<0&&(a.position.x=0),a.position.y<0&&(a.position.y=0),a.position.x>f.x-d&&(a.position.x=f.x-d),a.position.y>f.y-e&&(a.position.y=f.y-e)}}]),angular.module("stickyNotesApp").controller("AddCtrl",["$scope","$location","notesStorage",function(a,b,c){var d={position:{x:0,y:0},title:"",description:""};a.note=angular.copy(d),a.add=function(a){c.add(a),b.path("/board")},a.reset=function(a){angular.copy(d,a)},a.cancel=function(){b.path("/board")}}]),angular.module("stickyNotesApp").controller("EditCtrl",["$scope","$location","$routeParams","notesStorage",function(a,b,c,d){var e=c.id;a.note={},angular.copy(d.get(e),a.note),a.update=function(){d.set(e,a.note),b.path("/board")},a.reset=function(){angular.copy(d.get(e),a.note)},a.cancel=function(){b.path("/board")}}]),angular.module("stickyNotesApp").factory("notesStorage",["$localStorage",function(a){var b=a.$default({notes:[]});return{add:function(a){b.notes.push(a)},getAll:function(){return b.notes},get:function(a){return b.notes[a]},set:function(a,c){b.notes[a]=c}}}]),angular.module("stickyNotesApp").controller("ListCtrl",["$scope","notesStorage",function(a,b){a.notes=b.getAll()}]),angular.module("stickyNotesApp").directive("drag",["$document",function(a){return{restrict:"EA",replace:!0,scope:{onDrag:"&",onDrop:"&",onMove:"&"},link:function(b,c){function d(a){b.$apply(function(){h=a.pageX-f,i=a.pageY-g,f=a.pageX,g=a.pageY,b.onMove({deltaX:h,deltaY:i})})}function e(){a.unbind("mousemove",d),a.unbind("mouseup",e),b.$apply(b.onDrop())}var f,g,h,i;c.on("mousedown",function(c){c.preventDefault(),f=c.pageX,g=c.pageY,a.on("mousemove",d),a.on("mouseup",e),b.$apply(b.onDrag())})}}}]),angular.module("stickyNotesApp").directive("snDimensions",["$window",function(a){return{restrict:"A",scope:{snDimensions:"="},link:function(b,c){function d(){b.snDimensions.x=c[0].clientWidth,b.snDimensions.y=c[0].clientHeight}b.snDimensions={},d(),a.onresize=function(){b.$apply(d)},b.$on("snResize",d)}}}]),angular.module("stickyNotesApp").controller("RemovedToastCtrl",["$scope","$mdToast","notesStorage","removedNote",function(a,b,c,d){a.restore=function(){c.add(d),b.hide()}}]);